# 情节大纲知识库系统

## 概述
情节大纲知识库系统提供完整的故事结构规划工具，从宏观的全书架构到微观的章节安排，帮助作者构建逻辑严密、节奏合理、引人入胜的故事情节。

## 📖 核心功能模块

### 1. 故事结构框架系统

#### 1.1 经典结构模型

##### 三幕式结构
```
第一幕 - 建立阶段 (25%)
├── 开场钩子 (5%)
├── 日常世界展示 (10%)
├── 推动事件 (5%)
└── 第一转折点 (5%)

第二幕 - 对抗阶段 (50%)
├── 第一试探 (10%)
├── 第一高点 (10%)
├── 中点转折 (5%)
├── 挫折加深 (10%)
├── 黑暗时刻 (10%)
└── 第二转折点 (5%)

第三幕 - 解决阶段 (25%)
├── 最终对抗 (15%)
├── 高潮 (5%)
└── 结局 (5%)
```

##### 英雄之旅结构
```
启程阶段：
1. 平凡世界 - 英雄的日常生活
2. 冒险召唤 - 遇到问题或挑战
3. 拒绝召唤 - 初期的犹豫不决
4. 遇见导师 - 获得智慧和工具
5. 跨越门槛 - 正式踏上冒险之路

试炼阶段：
6. 试炼盟友敌人 - 在新世界中的探索
7. 深入最深洞穴 - 面对内心深处的恐惧
8. 经受磨难 - 最严峻的考验
9. 获得奖赏 - 战胜困难的回报

回归阶段：
10. 踏上归途 - 决定返回原来的世界
11. 复活重生 - 最后的考验和蜕变
12. 带着万能药归来 - 用获得的智慧帮助他人
```

##### 起承转合结构
```
起 (25%) - 故事开端
├── 背景设定
├── 人物介绍
├── 基本情况
└── 故事缘起

承 (25%) - 情节发展
├── 冲突出现
├── 问题深化
├── 关系变化
└── 矛盾升级

转 (25%) - 情节转折
├── 意外事件
├── 重大发现
├── 立场转变
└── 局势逆转

合 (25%) - 故事结局
├── 冲突解决
├── 关系归宿
├── 主题升华
└── 故事完结
```

#### 1.2 类型化结构模型

##### 悬疑推理结构
```
设置阶段：
- 案件发生
- 现场勘查
- 受害者背景
- 初步线索

调查阶段：
- 证据收集
- 证人询问
- 线索分析
- 假设推理

迷雾阶段：
- 假线索干扰
- 证据矛盾
- 新案件关联
- 推理困境

真相阶段：
- 关键发现
- 逻辑重构
- 真凶揭露
- 案件结案
```

##### 恋爱言情结构
```
相遇阶段：
- 命运邂逅
- 第一印象
- 初步接触
- 好感萌芽

相知阶段：
- 深入了解
- 共同经历
- 情感升温
- 关系确认

相恋阶段：
- 甜蜜时光
- 深度交流
- 情感深化
- 承诺表达

考验阶段：
- 外部阻力
- 内心冲突
- 误会分离
- 痛苦挣扎

团圆阶段：
- 真相澄清
- 重新相聚
- 坚定选择
- 幸福结局
```

### 2. 情节节点管理系统

#### 2.1 关键节点定义
```typescript
interface PlotPoint {
  id: string;
  name: string;
  type: 'hook' | 'inciting_incident' | 'plot_point_1' | 'midpoint' |
        'plot_point_2' | 'climax' | 'resolution';
  position: number; // 在故事中的位置百分比
  description: string;
  function: string; // 该节点的功能作用
  requirements: string[]; // 该节点需要满足的条件
  impacts: string[]; // 该节点对后续情节的影响
}
```

#### 2.2 节点质量评估标准

##### 开场钩子评估
- **吸引力强度** (1-10分)
  - 是否在开头30秒内抓住读者注意力
  - 是否提出了引人入胜的问题或情况
  - 是否展现了独特的世界观或角色

- **信息平衡** (1-10分)
  - 是否给出了足够但不过量的背景信息
  - 是否在悬念和清晰度之间找到平衡
  - 是否为后续发展做好铺垫

##### 转折点评估
- **意外程度** (1-10分)
  - 转折是否出人意料但合情合理
  - 是否有足够的伏笔支撑
  - 是否改变了故事的发展方向

- **影响深度** (1-10分)
  - 对主角的影响程度
  - 对故事走向的改变程度
  - 对读者情感的冲击力度

### 3. 章节结构规划工具

#### 3.1 章节功能分类
- **展示章节**
  - 世界观介绍
  - 人物登场
  - 背景设定
  - 氛围营造

- **推进章节**
  - 情节发展
  - 冲突升级
  - 关键事件
  - 转折发生

- **深化章节**
  - 人物成长
  - 关系发展
  - 内心探索
  - 主题表达

- **高潮章节**
  - 冲突爆发
  - 决战时刻
  - 真相揭露
  - 命运抉择

#### 3.2 章节结构模板

##### 标准章节结构 (3000-5000字)
```
开头 (10-15%) - 300-750字
├── 场景设定
├── 角色状态
├── 氛围营造
└── 章节钩子

发展 (70-80%) - 2100-4000字
├── 事件推进
├── 对话交流
├── 行动描述
├── 内心活动
├── 冲突发生
└── 关系变化

结尾 (10-15%) - 300-750字
├── 本章高潮
├── 情感升华
├── 悬念设置
└── 下章预告
```

##### 高潮章节结构
```
蓄势阶段 (20%) - 紧张氛围建立
├── 环境描写
├── 角色准备
├── 心理建设
└── 最后铺垫

爆发阶段 (60%) - 冲突全面展开
├── 对抗开始
├── 激烈交锋
├── 意外发生
├── 力量较量
├── 局势变化
└── 关键时刻

收束阶段 (20%) - 结果呈现
├── 胜负决定
├── 后果显现
├── 情感处理
└── 意义升华
```

### 4. 冲突设计系统

#### 4.1 冲突类型分类

##### 外部冲突
- **人与人的冲突**
  - 利益冲突：资源争夺、权力斗争、竞争关系
  - 观念冲突：价值观差异、立场对立、理念争辩
  - 情感冲突：爱恨情仇、背叛复仇、误解矛盾

- **人与环境的冲突**
  - 自然灾害：地震海啸、极端天气、病毒瘟疫
  - 社会制度：法律约束、道德规范、传统习俗
  - 技术限制：科技水平、工具缺乏、信息不足

##### 内部冲突
- **道德抉择冲突**
  - 善恶选择：正义与私利的矛盾
  - 责任冲突：不同责任之间的选择
  - 原则妥协：坚持理想还是现实妥协

- **情感冲突**
  - 爱情纠葛：多角恋情、禁忌之爱
  - 亲情考验：家庭责任与个人理想
  - 友情背叛：忠诚与背叛的选择

#### 4.2 冲突强度管理

##### 冲突升级模型
```
Level 1: 轻微分歧 (不适/不满)
├── 观点不同
├── 小摩擦
├── 轻微不快
└── 可以忽略

Level 2: 明显冲突 (紧张/对立)
├── 立场鲜明
├── 言语争执
├── 关系紧张
└── 影响合作

Level 3: 激烈对抗 (敌意/斗争)
├── 相互敌视
├── 公开对抗
├── 破坏行为
└── 伤害发生

Level 4: 全面战争 (生死/存亡)
├── 不死不休
├── 毁灭威胁
├── 生存危机
└── 终极对决
```

### 5. 悬念设计工具

#### 5.1 悬念类型
- **信息悬念**
  - 身份谜团：人物真实身份
  - 真相悬念：事件背后真相
  - 秘密悬念：隐藏的重要信息
  - 结果悬念：行动最终结果

- **时间悬念**
  - 倒计时压力：限时完成任务
  - 时间竞赛：与时间赛跑
  - 延迟满足：推迟答案揭露
  - 时序混乱：非线性叙述

- **选择悬念**
  - 两难抉择：艰难的道德选择
  - 多重可能：不同选择的后果
  - 随机变数：不可控因素影响
  - 命运转折：关键时刻的决定

#### 5.2 悬念设置技巧
- **制造疑问**
  - 提出引人思考的问题
  - 留下未解的谜团
  - 暗示重要信息的存在
  - 创造认知空白

- **信息管理**
  - 适时透露部分信息
  - 保留关键信息
  - 利用信息不对称
  - 误导读者预期

- **节奏控制**
  - 张弛有度的信息释放
  - 高潮前的静默
  - 意外的信息爆发
  - 层层递进的揭示

## 📊 数据结构设计

### PlotOutline 类型定义
```typescript
interface PlotOutline {
  id: string;
  projectId: string;
  name: string;
  structure: 'three_act' | 'heros_journey' | 'four_act' | 'custom';

  // 整体设置
  overview: {
    genre: string;
    theme: string;
    premise: string;
    logline: string;
    targetLength: number; // 预计字数
    targetChapters: number; // 预计章节数
  };

  // 结构节点
  plotPoints: PlotPoint[];

  // 章节规划
  chapters: ChapterOutline[];

  // 冲突设计
  conflicts: Conflict[];

  // 悬念管理
  mysteries: Mystery[];

  // 主题线索
  themes: ThemeLine[];

  createdAt: Date;
  updatedAt: Date;
}

interface ChapterOutline {
  id: string;
  number: number;
  title: string;
  purpose: string;
  wordCount: number;

  // 章节内容
  content: {
    setting: string;
    characters: string[];
    events: string[];
    conflicts: string[];
    revelations: string[];
  };

  // 章节功能
  functions: {
    plotAdvancement: string;
    characterDevelopment: string;
    themeExploration: string;
    atmosphereBuilding: string;
  };

  // 章节关联
  connections: {
    previousChapter: string;
    nextChapter: string;
    parallelEvents: string[];
    callbackReferences: string[];
  };
}

interface Conflict {
  id: string;
  type: 'external_person' | 'external_environment' | 'internal_moral' | 'internal_emotional';
  description: string;
  participants: string[];
  intensity: 1 | 2 | 3 | 4;
  timeline: ConflictEvent[];
  resolution?: string;
}

interface Mystery {
  id: string;
  question: string;
  importance: 'major' | 'minor' | 'subplot';
  introduction: string; // 何时引入
  clues: Clue[];
  resolution: string; // 何时解决
  impact: string; // 解决后的影响
}
```

## 🛠️ 实用工具

### 1. 结构检查器
- **节点完整性检查**: 确保所有必要的情节节点都存在
- **节奏平衡分析**: 检查各部分的篇幅分配是否合理
- **冲突强度曲线**: 绘制冲突强度变化图表
- **悬念密度评估**: 分析悬念设置的频率和分布

### 2. 大纲生成助手
- **结构模板应用**: 根据选择的结构自动生成框架
- **节点内容建议**: 为各个情节节点提供内容建议
- **章节规划工具**: 自动计算章节数量和篇幅分配
- **时间线管理**: 管理故事内时间和创作时间进度

### 3. 质量诊断工具
- **逻辑一致性检查**: 检查情节发展的逻辑合理性
- **角色动机验证**: 确保角色行为符合其动机和性格
- **伏笔回收检查**: 确保设置的伏笔都有相应的回收
- **主题表达评估**: 检查情节是否有效支撑主题表达

## 🎯 应用实例

### 悬疑小说大纲设计
```
结构：三幕式 + 悬疑特化
主线冲突：凶手身份谜团
次线冲突：主角内心创伤
悬念设置：
- 开场：发现尸体的震撼
- 发展：线索的层层揭示
- 高潮：真凶身份大揭露
- 结局：动机和手法解释
```

### 爱情小说大纲设计
```
结构：起承转合 + 情感发展线
主线冲突：阶级差距阻碍爱情
次线冲突：女主角自我认知
情感节点：
- 邂逅：意外相遇的心动
- 相知：深入了解的温暖
- 相爱：情感确认的甜蜜
- 分离：现实阻力的痛苦
- 重聚：克服困难的坚定
```

---
*文档版本: v1.0*
*创建时间: 2025-09-16*
*最后更新: 2025-09-16*