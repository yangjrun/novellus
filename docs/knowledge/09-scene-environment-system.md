# 场景环境知识库系统

## 概述
场景环境知识库为小说创作提供丰富的场景描述模板、环境设定工具和氛围营造技巧，帮助作者创造生动具体的故事背景，增强读者的沉浸感。

## 🎬 核心功能模块

### 1. 场景分类系统

#### 1.1 按功能分类
- **开场场景**
  - 引入式开场（平静引入、动作开场）
  - 悬念式开场（谜团、冲突、危机）
  - 描述式开场（环境、人物、情况）
  - 对话式开场（直接对话、内心独白）

- **转场场景**
  - 时间转换（日夜交替、季节变换）
  - 空间转换（地点移动、视角切换）
  - 情绪转换（氛围变化、紧张程度）
  - 节奏转换（快慢变化、平静高潮）

- **高潮场景**
  - 冲突爆发（对抗、争斗、决断）
  - 情感爆发（告白、分离、重逢）
  - 真相揭露（谜底、秘密、反转）
  - 命运转折（成败、生死、选择）

- **结尾场景**
  - 收束式结尾（问题解决、矛盾化解）
  - 开放式结尾（悬念保留、想象空间）
  - 回环式结尾（首尾呼应、循环结构）
  - 启示式结尾（哲理思考、人生感悟）

#### 1.2 按环境分类
- **自然环境**
  - 山川河流（高山、峡谷、瀑布、湖泊）
  - 森林草原（密林、草地、花田、荒野）
  - 海洋沙漠（海滨、沙丘、绿洲、风暴）
  - 天气现象（雨雪、雷电、雾霾、彩虹）

- **人造环境**
  - 城市建筑（摩天楼、老街区、住宅区）
  - 室内空间（客厅、卧室、办公室、咖啡厅）
  - 交通工具（汽车、火车、飞机、船舶）
  - 特殊场所（医院、学校、监狱、剧院）

- **奇幻环境**
  - 魔法场所（法师塔、魔法森林、结界）
  - 异次元空间（虚无空间、时间裂缝）
  - 神话场景（仙境、地府、神域、龙穴）
  - 未来科技（太空站、时光隧道、虚拟现实）

### 2. 环境描写技巧库

#### 2.1 感官描写技法
- **视觉描写**
  - 色彩运用（暖冷色调、明暗对比）
  - 光影效果（阳光、月光、灯火、阴影）
  - 形状质感（轮廓、纹理、材质、细节）
  - 空间布局（远近、高低、大小、比例）

- **听觉描写**
  - 自然音响（风声、雨声、鸟鸣、虫鸣）
  - 人造声音（音乐、机械、脚步、谈话）
  - 声音层次（主音、背景音、回声、静音）
  - 声音情感（温柔、尖锐、低沉、清脆）

- **嗅觉描写**
  - 自然气味（花香、草香、泥土、海风）
  - 生活气味（饭香、香水、汗味、烟味）
  - 情境气味（医院消毒水、书卷气、腐朽味）
  - 气味记忆（童年、家乡、初恋、创伤）

- **触觉描写**
  - 温度感受（炎热、寒冷、温暖、凉爽）
  - 质地触感（光滑、粗糙、柔软、坚硬）
  - 物理感受（湿润、干燥、粘腻、清爽）
  - 身体感觉（疲倦、舒适、紧张、放松）

#### 2.2 氛围营造技巧
- **时间氛围**
  - 晨曦初现（希望、新生、清新）
  - 正午烈日（热情、活力、炽烈）
  - 黄昏夕阳（怀旧、温柔、离别）
  - 深夜月色（神秘、宁静、孤独）

- **季节氛围**
  - 春天生机（复苏、希望、青春）
  - 夏天热烈（激情、活力、张扬）
  - 秋天萧瑟（成熟、感伤、收获）
  - 冬天肃杀（冷峻、纯净、死寂）

- **天气氛围**
  - 晴空万里（开朗、舒畅、积极）
  - 阴云密布（压抑、紧张、不安）
  - 狂风暴雨（激烈、冲突、动荡）
  - 雪花飞舞（浪漫、纯洁、静谧）

### 3. 场景描写模板库

#### 3.1 经典场景模板

##### 古代宫廷模板
```
描写要素：
- 建筑特色：雕梁画栋、金碧辉煌、飞檐翘角
- 装饰细节：龙凤雕刻、丝绸帏幕、珠宝装饰
- 人员配置：宫女太监、侍卫武士、文武百官
- 氛围烘托：庄严肃穆、等级森严、权力象征

模板结构：
[整体印象] → [建筑描述] → [装饰细节] → [人物活动] → [氛围总结]
```

##### 现代都市模板
```
描写要素：
- 建筑景观：高楼大厦、霓虹灯光、玻璃幕墙
- 交通状况：车水马龙、地铁站台、红绿灯
- 人群特色：行色匆匆、时尚装扮、多元文化
- 生活气息：咖啡香味、商店音乐、城市喧嚣

模板结构：
[远景概览] → [建筑细节] → [街道场景] → [人群描写] → [感受总结]
```

##### 自然山水模板
```
描写要素：
- 地形地貌：山峰湖泊、森林草地、奇石异景
- 自然现象：云雾缭绕、流水潺潺、鸟语花香
- 色彩变化：季节色调、光影变幻、晨昏差异
- 生态环境：动植物生存、自然规律、和谐共生

模板结构：
[远山轮廓] → [近景细节] → [动态变化] → [生物活动] → [情感共鸣]
```

#### 3.2 特殊场景模板

##### 悬疑恐怖场景
```
恐怖要素：
- 视觉恐怖：昏暗光线、诡异阴影、血色装饰
- 听觉恐怖：尖叫声、脚步声、神秘音响
- 心理恐怖：不安预感、未知威胁、孤立无助
- 环境恐怖：封闭空间、诡异氛围、时间错乱

营造技巧：
- 逐步累积紧张感
- 使用对比和反差
- 制造不确定性
- 利用读者想象力
```

##### 浪漫温馨场景
```
浪漫要素：
- 环境选择：花园、海滨、咖啡厅、星空下
- 光线营造：柔和灯光、月光星光、烛光晚餐
- 氛围烘托：轻柔音乐、花香鸟鸣、微风轻抚
- 细节点缀：鲜花装饰、精致布置、贴心安排

情感层次：
- 初遇的心动
- 相知的温暖
- 相爱的甜蜜
- 永恒的承诺
```

### 4. 场景功能分析工具

#### 4.1 场景作用检查清单
- [ ] **推进情节**: 场景是否推动故事发展
- [ ] **展现人物**: 场景是否体现角色特征
- [ ] **营造氛围**: 场景是否营造适当情绪
- [ ] **提供信息**: 场景是否传达必要信息
- [ ] **制造冲突**: 场景是否产生戏剧张力
- [ ] **呼应主题**: 场景是否强化故事主题

#### 4.2 场景质量评估标准
- **具体性评分** (1-10分)
  - 细节丰富程度
  - 描写精确度
  - 可视化效果

- **功能性评分** (1-10分)
  - 故事推进作用
  - 人物塑造功能
  - 主题表达效果

- **艺术性评分** (1-10分)
  - 语言美感
  - 意境营造
  - 情感共鸣

### 5. 环境与情节互动系统

#### 5.1 环境影响情节发展
- **自然障碍**: 恶劣天气、地理阻隔影响行动
- **环境机遇**: 特殊地形、隐蔽空间提供帮助
- **时间限制**: 季节变化、昼夜交替制造紧迫感
- **空间冲突**: 封闭环境、特殊场所产生戏剧冲突

#### 5.2 情节要求环境配合
- **紧张情节**: 需要压抑、局促的环境氛围
- **浪漫情节**: 需要优美、温馨的环境烘托
- **悬疑情节**: 需要神秘、未知的环境背景
- **战斗情节**: 需要开阔、复杂的环境支持

## 📊 数据结构设计

### Scene 类型定义
```typescript
interface Scene {
  id: string;
  projectId: string;
  chapterId?: string;

  // 基本信息
  basic: {
    name: string;
    type: 'opening' | 'transition' | 'climax' | 'ending';
    function: 'plot_advance' | 'character_develop' | 'atmosphere' | 'information';
    timeOfDay: 'dawn' | 'morning' | 'noon' | 'afternoon' | 'dusk' | 'night';
    season?: 'spring' | 'summer' | 'autumn' | 'winter';
    weather?: string;
  };

  // 环境设定
  environment: {
    category: 'natural' | 'urban' | 'indoor' | 'fantasy' | 'scifi';
    location: string;
    description: string;
    atmosphere: string;
    sensoryDetails: SensoryDetail[];
  };

  // 场景功能
  purpose: {
    plotFunction: string;
    characterFunction: string;
    themeFunction: string;
    emotionalTone: string;
  };

  // 描写技巧
  techniques: {
    perspective: 'first_person' | 'third_person' | 'omniscient';
    focusElements: string[];
    literaryDevices: string[];
    symbolism?: string;
  };

  // 质量评估
  quality: {
    specificityScore: number;
    functionalityScore: number;
    artisticScore: number;
    overallRating: number;
  };

  createdAt: Date;
  updatedAt: Date;
}

interface SensoryDetail {
  type: 'visual' | 'auditory' | 'olfactory' | 'tactile' | 'gustatory';
  description: string;
  importance: 'primary' | 'secondary' | 'background';
}
```

## 🛠️ 实用工具

### 1. 场景生成器
- **快速生成**: 根据类型和氛围要求自动生成场景框架
- **要素组合**: 智能组合不同环境要素创造独特场景
- **氛围匹配**: 根据情节需求推荐合适的环境氛围

### 2. 描写优化助手
- **感官平衡检查**: 确保多感官描写的均衡性
- **细节丰富度评估**: 检查描写的具体性和生动性
- **氛围一致性验证**: 确保环境氛围与情节需求匹配

### 3. 场景库管理
- **模板收藏**: 保存优秀的场景描写模板
- **个性化定制**: 根据作品风格调整场景模板
- **智能推荐**: 基于写作历史推荐适合的场景类型

## 🎯 应用实例

### 悬疑小说场景设计
```
场景：深夜废弃医院
- 环境要素：破败建筑、昏暗走廊、医疗设备残骸
- 感官描写：霉味、滴水声、冷风、阴影晃动
- 氛围营造：恐怖、压抑、不安、神秘
- 功能作用：制造紧张感、推进悬疑情节
```

### 言情小说场景设计
```
场景：黄昏海滨咖啡厅
- 环境要素：落地窗、海景、温柔灯光、舒适座椅
- 感官描写：海风、咖啡香、轻音乐、夕阳余晖
- 氛围营造：浪漫、温馨、宁静、美好
- 功能作用：情感升温、关系发展、情话对白
```

---
*文档版本: v1.0*
*创建时间: 2025-09-16*
*最后更新: 2025-09-16*